<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Надіслати локацію</title>
</head>
<body>

<h2>Надіслати мою локацію</h2>
<button id="sendBtn">Надіслати</button>

<script>
document.getElementById("sendBtn").addEventListener("click", () => {
  navigator.geolocation.getCurrentPosition(pos => {

    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;

    const googleMaps = `https://www.google.com/maps?q=${lat},${lon}`;
    const osm = `https://www.openstreetmap.org/?mlat=${lat}&mlon=${lon}#map=17/${lat}/${lon}`;
    const appleMaps = `https://maps.apple.com/?ll=${lat},${lon}`;

    const payload = {
      latitude: lat,
      longitude: lon,
      accuracy: pos.coords.accuracy,
      maps: {
        google: googleMaps,
        openstreetmap: osm,
        apple: appleMaps
      },
      timestamp: new Date().toISOString()
    };

    fetch("https://app.hooklistener.com/w/my-first-endpoint-ph72/", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    alert("Локацію відправлено");

  }, err => {
    alert("Помилка геолокації: " + err.message);
  });
});
</script>

</body>
</html>
